<%= form_with url: yaml_preview_path, method: :get, data: { controller: "autosubmit", action: "input->autosubmit#submit", turbo_frame: "yaml_preview" } do |f| %>
  <div class="border-b border-gray-900/10">
    <div class="mb-4">
      <%= f.label :name, "Service name", class: "block text-lg font-medium text-gray-700" %>
      <p class="italic font-sm text-gray-500"> What do you want the container name prefix to be? </p> 
      <%= f.text_field :name,
        placeholder: "your_service",
        class: "w-full px-4 py-2 border border-gray-300 text-base rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 placeholder-gray-400 transition duration-200 mt-2" %>
    </div>

    <div class="mb-4">
      <%= f.label :docker_image, "Docker image name", class: "block text-lg font-medium text-gray-700" %>
      <p class="italic font-sm text-gray-500"> What do you want the resulting image name to be? </p> 
      <%= f.text_field :docker_image,
        placeholder: "image/your_service",
        class: "w-full px-4 py-2 border border-gray-300 text-base rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 placeholder-gray-400 transition duration-200 mt-2" %>
    </div>

    <p class="block text-2xl font-medium text-gray-700 mb-3"> Servers </p> 

    <div class="mb-4">
      <p class="italic font-sm text-gray-500"> Where is your application hosted? </p> 

      <div class="flex gap-2 items-center">
        <%= f.label :servers_host, "Host", class: "block font-medium text-gray-700" %>
        <%= f.text_field :servers_host,
          name: "servers[host]",
          placeholder: "100.100.100.100",
          class: "w-full px-4 py-2 border border-gray-300 text-base rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 placeholder-gray-400 transition duration-200 mt-2" %>
      </div>
      <p class="italic font-xs text-gray-500"> I.e 192.168.0.1, unagi.com.ar </p>
    </div>

    <div class="mb-4">
      <%= f.label :servers_jobs, "Jobs", class: "block text-lg font-medium text-gray-700" %>
      <p class="italic font-sm text-gray-500"> Do you need a container for background jobs? </p> 

      <div class="flex gap-2 items-center">
        <%= f.label :servers_jobs_host, "Host", class: "block font-medium text-gray-700" %>
        <%= f.text_field :servers_jobs_host,
          name: "servers[jobs][host]",
          placeholder: "100.100.100.100",
          class: "w-full px-4 py-2 border border-gray-300 text-base rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 placeholder-gray-400 transition duration-200 mt-2" %>
      </div>

      <div class="flex gap-2 items-center">
        <%= f.label :servers_jobs_cmd, "Cmd", class: "block font-medium text-gray-700" %>
        <%= f.text_field :servers_jobs_cmd,
          placeholder: "bin/jobs",
          name: "servers[jobs][cmd]",
          class: "w-full px-4 py-2 border border-gray-300 text-base rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 placeholder-gray-400 transition duration-200 mt-2" %>
      </div>
    </div>

    <div class="mb-4">
      <%= f.label :arch, "Architecture:", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.select :arch, ["amd64", "arm64"], {}, class: "bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" %>
    </div>

    <fieldset class="mb-4 bg-gray-50 border border-gray-300 p-6 rounded-lg">
      <legend class="block text-sm font-medium text-gray-700">
        <span class="text-gray-700">Registry</span>
      </legend>
      
      <div class="space-y-4">
        <div class="flex gap-2 items-center">
          <%= f.label :registry_username, "Username", class: "block font-medium text-gray-700" %>
          <%= f.text_field :registry_username,
            name: "registry[username]", 
            placeholder: "Enter registry username",
            class: "w-full px-4 py-2 border border-gray-300 text-base rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 placeholder-gray-400 transition duration-200 mt-2" %>
        </div>

        <div class="flex gap-2 items-center">
          <%= f.label :registry_password, "Password", class: "block font-medium text-gray-700" %>
          <%= f.password_field :registry_password,
            name: "registry[password]", 
            placeholder: "Enter registry password",
            class: "w-full px-4 py-2 border border-gray-300 text-base rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 placeholder-gray-400 transition duration-200 mt-2" %>
        </div>
      </div>
    </fieldset>
  </div>
<% end %>
