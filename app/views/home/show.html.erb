<%= form_with url: yaml_preview_path, method: :post, data: { controller: "autosubmit", action: "input->autosubmit#submit", turbo_frame: "yaml_preview" } do |f| %>
  <div class="mb-4">
    <%= f.label :name, "Nombre:", class: "block mb-2" %>
    <%= f.text_field :name, class: "w-full p-2 border rounded" %>
  </div>

  <div class="mb-4">
    <%= f.label :age, "Edad:", class: "block mb-2" %>
    <%= f.number_field :age, class: "w-full p-2 border rounded" %>
  </div>

  <div class="mb-4">
    <%= f.label :country, "País:", class: "block mb-2" %>
    <%= f.select :country, ["Argentina", "México", "España"], {}, class: "w-full p-2 border rounded" %>
  </div>
<% end %>


<h2 class="text-xl font-semibold mb-4">YAML Generado</h2>
<%= turbo_frame_tag "yaml_preview" do %>
  <div data-controller="highlight">
    <pre class="bg-gray-100 p-4 rounded overflow-auto">
      <code class="yaml hljs"># Completa el formulario...</code>
    </pre>
  </div>
<% end %>
